<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    <title>ë­í‚¹</title>
    <style>
        /* ê¸°ì¡´ ìŠ¤íƒ€ì¼ ìœ ì§€ */
        body {
            background-color: white; /* ë°°ê²½ ìƒ‰ìƒì„ í°ìƒ‰ìœ¼ë¡œ ì„¤ì • */
            display: flex;
            flex-direction: column; /* ìˆ˜ì§ ì •ë ¬ */
            align-items: center; /* ìˆ˜í‰ ì¤‘ì•™ ì •ë ¬ */
            justify-content: center; /* ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ */
            height: 100vh; /* ì „ì²´ í™”ë©´ ë†’ì´ ì‚¬ìš© */
            margin: 0; /* ê¸°ë³¸ ì—¬ë°± ì œê±° */
            font-family: 'Pretendard', sans-serif; /* Pretendard í°íŠ¸ ì ìš© */
        }
    
        h1 {
            margin-bottom: 10px; /* ì œëª©ê³¼ í•­ëª© ê°„ê²© */
            color: #FFCD4A; /* ê¸€ììƒ‰ì„ #FFCD4Aë¡œ ì„¤ì • */
        }
    
        .ranking-menu {
            display: flex; /* ê°€ë¡œ ì •ë ¬ */
            gap: 30px; /* í•­ëª© ê°„ ê°„ê²© */
            margin-bottom: 20px; /* ë©”ë‰´ì™€ í…Œì´ë¸” ê°„ê²© */
        }
    
        .ranking-menu a {
            color: #52d6f5; /* ê¸°ë³¸ ê¸€ì ìƒ‰ìƒ */
            text-decoration: none; /* ê¸°ë³¸ ë°‘ì¤„ ì œê±° */
            padding: 10px 15px; /* íŒ¨ë”© ì¶”ê°€ */
            border-radius: 5px; /* ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ */
            transition: background-color 0.3s, color 0.3s; /* íš¨ê³¼ ì „í™˜ */
        }
    
        .ranking-menu a:hover {
            background-color: #fafab9; /* í˜¸ë²„ ì‹œ ë°°ê²½ ìƒ‰ìƒ */
            color: #52d6f5; /* í˜¸ë²„ ì‹œ ê¸€ì ìƒ‰ìƒ ìœ ì§€ */
        }
    
        table {
            border-collapse: collapse; /* í…Œì´ë¸” í…Œë‘ë¦¬ ë³‘í•© */
            margin-top: 10px; /* í…Œì´ë¸”ê³¼ ë§í¬ ê°„ê²© */
            width: 50%; /* í…Œì´ë¸” í­ */
        }
    
        th, td {
            border: 1px solid #ddd; /* í…Œë‘ë¦¬ ì¶”ê°€ */
            padding: 8px; /* ì…€ íŒ¨ë”© */
            text-align: center; /* í…ìŠ¤íŠ¸ ì¤‘ì•™ ì •ë ¬ */
        }
    
        th {
            background-color: #fafab9; /* ì„œë¸Œ ìƒ‰ìƒ */
            color: #838383; /* ê¸€ììƒ‰ì„ #FFCD4Aë¡œ ì„¤ì • */
        }
    
        .bold {
            font-weight: bold; /* ë³¼ë“œ ì²˜ë¦¬ */
        }
    
        .top-ranking {
            background-color: #ffffe9; /* ìƒìœ„ 3ìœ„ ë°°ê²½ ìƒ‰ìƒ */
        }
    
        .gray {
            color: #888888; /* íšŒìƒ‰ */
        }
    
        /* ìºë¦­í„° ì •ë³´ ìŠ¤íƒ€ì¼ */
        .character-info {
            visibility: hidden; /* ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê¹€ */
            position: absolute; /* ì ˆëŒ€ ìœ„ì¹˜ */
            background-color: rgba(255, 255, 255, 0.5); /* ë°°ê²½ ìƒ‰ìƒ í°ìƒ‰ + 50% íˆ¬ëª…ë„ */
            border: 1px solid #ddd; /* í…Œë‘ë¦¬ */
            padding: 10px; /* íŒ¨ë”© */
            z-index: 100; /* ë‹¤ë¥¸ ìš”ì†Œë³´ë‹¤ ì•ì— */
            width: 100px; /* ë„ˆë¹„ ì¡°ì • */
            font-size: 15px; /* ê¸€ì í¬ê¸° 12pxë¡œ ì¡°ì • */
            left: 250px; /* ì˜¤ë¥¸ìª½ ë§ˆì§„ ì¶”ê°€ */
            bottom: 0.5px;
            transform: translateX(-20px); /* ì™¼ìª½ìœ¼ë¡œ 20px ì´ë™ */
            opacity: 0; /* ì´ˆê¸° íˆ¬ëª…ë„ */
            transition: transform 0.3s ease, opacity 0.3s ease, visibility 0.3s ease; /* ëª¨ì…˜ íš¨ê³¼ */
        }
    
        .character-name {
            position: relative; /* ë¶€ëª¨ ìš”ì†Œì— ëŒ€í•´ ìƒëŒ€ ìœ„ì¹˜ */
        }
    
        /* ìºë¦­í„° ì´ë¦„ì— í˜¸ë²„ ì‹œ ì •ë³´ í‘œì‹œ */
        .character-name:hover .character-info {
            visibility: visible; /* í˜¸ë²„ ì‹œ ë³´ì´ê¸° */
            transform: translateX(0); /* ì›ë˜ ìœ„ì¹˜ë¡œ ëŒì•„ì˜¤ê¸° */
            opacity: 1; /* ì™„ì „ ë¶ˆíˆ¬ëª… */
        }
        /* ë°©ë¬¸í•˜ê¸° ë§í¬ ìŠ¤íƒ€ì¼ */
        .visit-link {
            color: #52d6f5; /* ê¸°ë³¸ ìƒ‰ìƒ */
            text-decoration: none; /* ê¸°ë³¸ ë°‘ì¤„ ì œê±° */
            transition: text-decoration 0.3s ease; /* í˜¸ë²„ ì‹œ ì „í™˜ íš¨ê³¼ */
        }

        .visit-link:hover {
            text-decoration: underline; /* í˜¸ë²„ ì‹œ ë°‘ì¤„ ì¶”ê°€ */
        }
        .menu {
            display: flex;
            justify-content: center;
            width: 100%;
            height: 10px;
            text-decoration: none;
        }
    
        .menu a {
            position: relative;
            display: inline-block;
            z-index: 1;
            margin: 0 10px;
            font-size: 30px;
            text-decoration: none;
            background: none;
            border: none;
        }
        
    
        .menu a::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            background-color: #f0f0f0;
            color: #333;
            padding: 5px;
            border-radius: 5px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
            z-index: 1000;
            font-size: 20px;
        }
    
        .menu a:hover::after {
            opacity: 1;
            visibility: visible;
            font-size: 20px;
        }
        .level-info {
            color: #ffbf1c; /* ì›í•˜ëŠ” ìƒ‰ìƒìœ¼ë¡œ ë³€ê²½ */
        }
        .nickname-visit-link {
            color: inherit; /* ë¶€ëª¨ ìš”ì†Œì˜ ìƒ‰ìƒì„ ìƒì†ë°›ìŒ */
            text-decoration: none; /* ê¸°ë³¸ ë°‘ì¤„ ì œê±° */
        }

        .nickname-visit-link:hover {
            color: #52d6f5; /* í˜¸ë²„ ì‹œ ìƒ‰ìƒ ë³€ê²½ */
            text-decoration: underline; /* í˜¸ë²„ ì‹œ ë°‘ì¤„ ì¶”ê°€ */
        }

        
    </style>
    
</head>
<body>
    <h1>ë­í‚¹</h1>
    <br>
    <div class="ranking-menu">
        <a href="{% url 'ë­í‚¹' %}">ë ˆë²¨ë­í‚¹</a>
        <a href="{% url 'ë„ì „ë­í‚¹' %}">ë„ì „ë­í‚¹</a>
    </div>
    <table>
        {% if characters %}
        <tr>
            <th>ìˆœìœ„</th>
            <th>ë‹‰ë„¤ì„</th>
            <th>ë ˆë²¨</th>
            <th>ìºë¦­í„°ëª…</th>
        </tr>
        {% for character in characters %}
        <tr class="div-visit {% if forloop.counter <= 3 %}top-ranking{% endif %}">
            <td class="{% if forloop.counter <= 3 %}bold{% else %}gray{% endif %}">
                {{ forloop.counter }} {% if forloop.counter == 1 %}ğŸ¥‡{% elif forloop.counter == 2 %}ğŸ¥ˆ{% elif forloop.counter == 3 %}ğŸ¥‰{% endif %}
            </td>
            <td class="{% if forloop.counter <= 3 %}bold{% else %}gray{% endif %}">
                <a href="{% url 'ë­í‚¹_ë°©ë¬¸í•˜ê¸°' character.id %}" class="nickname-visit-link">
                    {{ character.user.name }} ({{ character.user.user_id|slice:":4" }}***)
                </a>
                {% if character.user.user_id == user.user_id %}
                    <span style="color: red; font-size: 12px;">(ë‚˜ì˜ ìˆœìœ„)</span>
                {% endif %}
            </td>
            <td class="{% if forloop.counter <= 3 %}bold level-ranking{% else %}gray{% endif %}">{{ character.level }}</td>
            <td class="{% if forloop.counter <= 3 %}bold{% else %}gray{% endif %} character-name">
                {{ character.character_name }}
                <div class="character-info">
                    <p class="level-info">ë ˆë²¨: {{ character.level }}</p>
                    <p>ê³µê²©ë ¥: {{ character.attack_power }}</p>
                    <p>ë°©ì–´ë ¥: {{ character.defense }}</p>
                    <p>ì²´ë ¥: {{ character.health }}</p>
                </div>                
            </td>
        </tr>        
        {% endfor %}
        {% endif %}
        
        <!-- ë„ì „ë­í‚¹ -->
        {% if users %}
        <tr>
            <th>ìˆœìœ„</th>
            <th>ë‹‰ë„¤ì„</th>
            <th>ë„ë‹¬í•œ ì¸µìˆ˜</th>
        </tr>
        {% for user in users %}
        <tr class="div-visit {% if forloop.counter <= 3 %}top-ranking{% endif %}">
            <td class="{% if forloop.counter <= 3 %}bold{% else %}gray{% endif %}">
                {{ forloop.counter }} {% if forloop.counter == 1 %}ğŸ¥‡{% elif forloop.counter == 2 %}ğŸ¥ˆ{% elif forloop.counter == 3 %}ğŸ¥‰{% endif %}
            </td>
            <td class="{% if forloop.counter <= 3 %}bold{% else %}gray{% endif %}">
                <a href="{% url 'ë„ì „ë­í‚¹_ë°©ë¬¸í•˜ê¸°' user.id %}" class="nickname-visit-link">
                    {{ user.name }} ({{ user.user_id|slice:":4" }}***)
                </a>
                {% if user.user_id == request.user.user_id %}
                    <span style="color: red; font-size: 12px;">(ë‚˜ì˜ ìˆœìœ„)</span>
                {% endif %}
            </td>
            <td class="{% if forloop.counter <= 3 %}bold challenge-ranking{% else %}gray{% endif %}">{{ user.challenge_level }}</td>
        </tr>
        {% endfor %}
        {% endif %}
    </table>
    
    <br>
    <footer>
        <div class="menu">
            <a href="{% url 'ë­í‚¹' %}" data-tooltip="ë­í‚¹">ğŸ¥‡</a>
            <a href="{% url 'ì¹œêµ¬' %}" data-tooltip="ì¹œêµ¬">ğŸ‘¥</a>
            <a href="{% url 'ê²Œì„_ë©”ì¸' %}" data-tooltip="ê²Œì„_ë©”ì¸">ğŸ </a>
            <a href="{% url 'ë„ì „' %}" data-tooltip="ë„ì „">ğŸ†š</a>
            {% if daily_mission_cleared %}
                <a href="#" style="pointer-events: none; color: gray;" data-tooltip="ë¯¸ì…˜">ğŸ—“ï¸</a>
            {% else %}
                <a href="{% url 'ì¼ì¼ ë¯¸ì…˜ í˜ì´ì§€' %}" data-tooltip="ë¯¸ì…˜">ğŸ—“ï¸</a>
            {% endif %}
            <a href="{% url 'ìƒì ' %}" data-tooltip="ìƒì ">ğŸ›’</a>
        </div>
    </footer>
</body>
</html>
